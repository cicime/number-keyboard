!function(){"use strict";var a=function(a){var e=this,n=this.innerHTML,t=$(a)[0],o="touchend click";console.log(n);var d=function(a){a.preventDefault(),a.stopPropagation()},r=function(a){d(a),c(t.value),$(".keyboard-hk").show()},l=function(a){d(a),t.value+=a.data.txt,!/^\d+\.?\d{0,2}$/.test(t.value)&&s(a),c(t.value)},s=function(a){d(a),t.value&&(t.value=t.value.replace(/.$/,"")),c(t.value)},c=function(a){$(".keyboard-txt-hk").html(a||""),!$(".keyboard-flash").length&&e.append('<span class="keyboard-flash">|</span>')},u=function(){return $(".keyboard-flash").remove()};return function(){for(var a=[[1,2,3],[4,5,6],[7,8,9],[0,".","back"]],n=$('<div class="keyboard keyboard-hk" hidden></div>'),t=$('<table class="keyboard-table"></table>'),d=0;d<a.length;d++){for(var r=$("<tr></tr>"),c=0;c<a[d].length;c++){var u=a[d][c],i=$('<td class="keyboard-key">'+u+"</td>");"back"===u?i.on(o,s):i.on(o,{txt:u},l),r.append(i)}t.append(r)}n.append(t),$("body").append(n),e.append('<span class="keyboard-txt-hk"></span>')}(),e.on(o,r),$(document).on(o,function(){u(),$(".keyboard-hk").hide()}),this};$(function(){$.fn.extend({keyboard:a})})}();
