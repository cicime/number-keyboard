!function(){"use strict";var a=function(a){var e=this,n=$(a)[0],t="touchend click",o=function(a){a.preventDefault(),a.stopPropagation()},d=function(a){o(a),u(n.value),$(".keyboard-hk").show()},r=function(a){o(a),n.value+=a.data.txt,!/^\d+\.?\d{0,2}$/.test(n.value)&&l(a),u(n.value)},l=function(a){o(a),n.value&&(n.value=n.value.replace(/.$/,"")),u(n.value)},u=function(a){$(".keyboard-txt-hk").html(a||""),!$(".keyboard-flash").length&&e.append('<span class="keyboard-flash">|</span>')},c=function(){return $(".keyboard-flash").remove()};return function(){for(var a=[[1,2,3],[4,5,6],[7,8,9],[0,".","back"]],n=$('<div class="keyboard keyboard-hk" hidden></div>'),o=$('<table class="keyboard-table"></table>'),d=0;d<a.length;d++){for(var u=$("<tr></tr>"),c=0;c<a[d].length;c++){var s=a[d][c],k=$('<td class="keyboard-key">'+s+"</td>");"back"===s?k.on(t,l):k.on(t,{txt:s},r),u.append(k)}o.append(u)}n.append(o),$("body").append(n),e.append('<span class="keyboard-txt-hk"></span>')}(),e.on(t,d),$(document).on(t,function(){c(),$(".keyboard-hk").hide()}),this};$(function(){$.fn.extend({keyboard:a})})}();
